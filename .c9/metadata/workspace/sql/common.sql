{"filter":false,"title":"common.sql","tooltip":"/sql/common.sql","undoManager":{"mark":100,"position":100,"stack":[[{"group":"doc","deltas":[{"start":{"row":100,"column":0},"end":{"row":120,"column":21},"action":"insert","lines":["CREATE TABLE IF NOT EXISTS `approval_tbl` (","  `doc_num` VARCHAR(45) NOT NULL COMMENT '문서번호 (년-월-일-index)',","  `submit_id` VARCHAR(45) NOT NULL COMMENT '결제 요청자 사번\\n',","  `manager_id` VARCHAR(45) NOT NULL COMMENT '결제권자 사번',","  `submit_date` DATE NOT NULL COMMENT '상신일자',","  `decide_date` DATE NULL COMMENT '결재일자',","  `submit_comment` VARCHAR(300) NULL COMMENT '상신 메모',","  `decide_comment` VARCHAR(300) NULL COMMENT '결재 메모',","  `start_date` VARCHAR(12) NULL COMMENT '근태 시작일',","  `end_date` VARCHAR(12) NULL COMMENT '근태 종료일',","  `office_code` VARCHAR(10) NOT NULL,","  `state` VARCHAR(45) NOT NULL COMMENT '처리 상태 ( 상신 / 결제완료 / 반려 / 보류 )',","  PRIMARY KEY (`doc_num`),","  INDEX `fk_approval_tbl_office_code_tbl1_idx` (`office_code` ASC),","  CONSTRAINT `fk_approval_tbl_office_code_tbl1`","    FOREIGN KEY (`office_code`)","    REFERENCES `office_code_tbl` (`code`)","    ON DELETE NO ACTION","    ON UPDATE NO ACTION)","ENGINE = InnoDB","COMMENT = '결재 처리 테이블'"]}]}],[{"group":"doc","deltas":[{"start":{"row":120,"column":21},"end":{"row":120,"column":22},"action":"insert","lines":[";"]}]}],[{"group":"doc","deltas":[{"start":{"row":120,"column":22},"end":{"row":121,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":121,"column":0},"end":{"row":122,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":122,"column":0},"end":{"row":123,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":90,"column":35},"end":{"row":90,"column":36},"action":"insert","lines":[";"]}]}],[{"group":"doc","deltas":[{"start":{"row":67,"column":41},"end":{"row":67,"column":42},"action":"insert","lines":[";"]}]}],[{"group":"doc","deltas":[{"start":{"row":58,"column":61},"end":{"row":58,"column":62},"action":"insert","lines":[";"]}]}],[{"group":"doc","deltas":[{"start":{"row":122,"column":0},"end":{"row":138,"column":38},"action":"insert","lines":["CREATE TABLE IF NOT EXISTS `out_office_tbl` (","  `year` VARCHAR(4) NOT NULL COMMENT '년도',","  `date` VARCHAR(12) NOT NULL COMMENT '일자(월/일)',","  `id` VARCHAR(45) NOT NULL COMMENT '사번',","  `office_code` VARCHAR(10) NOT NULL COMMENT 'office_code 종류',","  `day_count` FLOAT NOT NULL COMMENT 'office_code_tbl의 day_count',","  `memo` VARCHAR(300) NULL COMMENT 'comment',","  `doc_num` VARCHAR(45) NOT NULL COMMENT '결재문서 번호',","  INDEX `fk_out_office_tbl_approval_tbl_idx` (`doc_num` ASC),","  PRIMARY KEY (`date`, `id`, `year`, `office_code`),","  CONSTRAINT `fk_out_office_tbl_approval_tbl`","    FOREIGN KEY (`doc_num`)","    REFERENCES `approval_tbl` (`doc_num`)","    ON DELETE NO ACTION","    ON UPDATE NO ACTION)","ENGINE = InnoDB","COMMENT = '휴가 / 외근 / 출장 (결재 완료된)  테이블'"]}]}],[{"group":"doc","deltas":[{"start":{"row":138,"column":38},"end":{"row":138,"column":39},"action":"insert","lines":[";"]}]}],[{"group":"doc","deltas":[{"start":{"row":138,"column":39},"end":{"row":139,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":139,"column":0},"end":{"row":140,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":138,"column":39},"end":{"row":139,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":139,"column":0},"end":{"row":140,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":140,"column":0},"end":{"row":153,"column":33},"action":"insert","lines":["CREATE TABLE IF NOT EXISTS `in_office_tbl` (","  `year` VARCHAR(4) NOT NULL COMMENT '년도',","  `id` VARCHAR(45) NOT NULL COMMENT '사번',","  `date` VARCHAR(12) NOT NULL COMMENT '일자(월/일)',","  `doc_num` VARCHAR(45) NOT NULL COMMENT '결재 문서번호',","  PRIMARY KEY (`year`, `id`, `date`),","  INDEX `fk_in_office_tbl_approval_tbl1_idx` (`doc_num` ASC),","  CONSTRAINT `fk_in_office_tbl_approval_tbl1`","    FOREIGN KEY (`doc_num`)","    REFERENCES `approval_tbl` (`doc_num`)","    ON DELETE NO ACTION","    ON UPDATE NO ACTION)","ENGINE = InnoDB","COMMENT = '휴일 근무 ( 결재 완료된 테이블 )';"]}]}],[{"group":"doc","deltas":[{"start":{"row":156,"column":0},"end":{"row":168,"column":57},"action":"insert","lines":["CREATE TABLE IF NOT EXISTS `change_history_tbl` (","  `seq` INT NOT NULL AUTO_INCREMENT COMMENT 'index',","  `date` VARCHAR(12) NOT NULL COMMENT '근태일자',","  `id` VARCHAR(45) NOT NULL COMMENT '사번',","  `change_column` VARCHAR(45) NOT NULL COMMENT '수정 컬럼 ( 출근,퇴근 )',","  `change_before` VARCHAR(45) NOT NULL COMMENT '변견 전 내용',","  `change_after` VARCHAR(45) NOT NULL COMMENT '변경 후 내용',","  `change_date` DATE NOT NULL COMMENT '수정 시각',","  `change_id` VARCHAR(45) NOT NULL COMMENT '수정작업 ID',","  PRIMARY KEY (`seq`),","  INDEX `date_id` (`date` ASC, `id` ASC))","ENGINE = InnoDB","COMMENT = 'commute_result_tbl에서 출근.퇴근을 수정할 경우 수정 내용을 기록';"]}]}],[{"group":"doc","deltas":[{"start":{"row":170,"column":0},"end":{"row":176,"column":26},"action":"insert","lines":["","CREATE TABLE IF NOT EXISTS `holiday_tbl` (","  `holiday_date` VARCHAR(12) NOT NULL,","  `memo` VARCHAR(200) NOT NULL,","  `year` VARCHAR(4) NULL)","ENGINE = InnoDB","COMMENT = '토/일을 제외한 휴일 관리'"]}]}],[{"group":"doc","deltas":[{"start":{"row":172,"column":3},"end":{"row":172,"column":11},"action":"remove","lines":["holiday_"]}]}],[{"group":"doc","deltas":[{"start":{"row":135,"column":14},"end":{"row":135,"column":23},"action":"remove","lines":["NO ACTION"]},{"start":{"row":135,"column":14},"end":{"row":135,"column":15},"action":"insert","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":135,"column":15},"end":{"row":135,"column":16},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":135,"column":16},"end":{"row":135,"column":17},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":135,"column":17},"end":{"row":135,"column":18},"action":"insert","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":135,"column":18},"end":{"row":135,"column":19},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":135,"column":19},"end":{"row":135,"column":20},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":135,"column":20},"end":{"row":135,"column":21},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":135,"column":14},"end":{"row":135,"column":21},"action":"remove","lines":["cascade"]},{"start":{"row":135,"column":14},"end":{"row":135,"column":15},"action":"insert","lines":["C"]}]}],[{"group":"doc","deltas":[{"start":{"row":135,"column":15},"end":{"row":135,"column":16},"action":"insert","lines":["A"]}]}],[{"group":"doc","deltas":[{"start":{"row":135,"column":16},"end":{"row":135,"column":17},"action":"insert","lines":["S"]}]}],[{"group":"doc","deltas":[{"start":{"row":135,"column":16},"end":{"row":135,"column":17},"action":"remove","lines":["S"]}]}],[{"group":"doc","deltas":[{"start":{"row":135,"column":15},"end":{"row":135,"column":16},"action":"remove","lines":["A"]}]}],[{"group":"doc","deltas":[{"start":{"row":135,"column":14},"end":{"row":135,"column":15},"action":"remove","lines":["C"]}]}],[{"group":"doc","deltas":[{"start":{"row":135,"column":14},"end":{"row":135,"column":15},"action":"insert","lines":["C"]}]}],[{"group":"doc","deltas":[{"start":{"row":135,"column":15},"end":{"row":135,"column":16},"action":"insert","lines":["A"]}]}],[{"group":"doc","deltas":[{"start":{"row":135,"column":16},"end":{"row":135,"column":17},"action":"insert","lines":["S"]}]}],[{"group":"doc","deltas":[{"start":{"row":135,"column":17},"end":{"row":135,"column":18},"action":"insert","lines":["C"]}]}],[{"group":"doc","deltas":[{"start":{"row":135,"column":18},"end":{"row":135,"column":19},"action":"insert","lines":["A"]}]}],[{"group":"doc","deltas":[{"start":{"row":135,"column":19},"end":{"row":135,"column":20},"action":"insert","lines":["C"]}]}],[{"group":"doc","deltas":[{"start":{"row":135,"column":19},"end":{"row":135,"column":20},"action":"remove","lines":["C"]}]}],[{"group":"doc","deltas":[{"start":{"row":135,"column":19},"end":{"row":135,"column":20},"action":"insert","lines":["D"]}]}],[{"group":"doc","deltas":[{"start":{"row":135,"column":20},"end":{"row":135,"column":21},"action":"insert","lines":["E"]}]}],[{"group":"doc","deltas":[{"start":{"row":150,"column":14},"end":{"row":150,"column":23},"action":"remove","lines":["NO ACTION"]},{"start":{"row":150,"column":14},"end":{"row":150,"column":21},"action":"insert","lines":["CASCADE"]}]}],[{"group":"doc","deltas":[{"start":{"row":174,"column":25},"end":{"row":175,"column":0},"action":"insert","lines":["",""]},{"start":{"row":175,"column":0},"end":{"row":175,"column":2},"action":"insert","lines":["  "]}]}],[{"group":"doc","deltas":[{"start":{"row":175,"column":2},"end":{"row":175,"column":67},"action":"insert","lines":["INDEX `fk_approval_tbl_office_code_tbl1_idx` (`office_code` ASC),"]}]}],[{"group":"doc","deltas":[{"start":{"row":175,"column":9},"end":{"row":175,"column":45},"action":"remove","lines":["fk_approval_tbl_office_code_tbl1_idx"]}]}],[{"group":"doc","deltas":[{"start":{"row":175,"column":9},"end":{"row":175,"column":10},"action":"insert","lines":["h"]}]}],[{"group":"doc","deltas":[{"start":{"row":175,"column":10},"end":{"row":175,"column":11},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":175,"column":11},"end":{"row":175,"column":12},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":175,"column":12},"end":{"row":175,"column":13},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":175,"column":13},"end":{"row":175,"column":14},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":175,"column":14},"end":{"row":175,"column":15},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":175,"column":15},"end":{"row":175,"column":16},"action":"insert","lines":["y"]}]}],[{"group":"doc","deltas":[{"start":{"row":175,"column":16},"end":{"row":175,"column":17},"action":"insert","lines":["_"]}]}],[{"group":"doc","deltas":[{"start":{"row":175,"column":17},"end":{"row":175,"column":18},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":175,"column":18},"end":{"row":175,"column":19},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":175,"column":19},"end":{"row":175,"column":20},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":175,"column":20},"end":{"row":175,"column":21},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":175,"column":21},"end":{"row":175,"column":22},"action":"insert","lines":["x"]}]}],[{"group":"doc","deltas":[{"start":{"row":175,"column":26},"end":{"row":175,"column":37},"action":"remove","lines":["office_code"]},{"start":{"row":175,"column":26},"end":{"row":175,"column":27},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":175,"column":27},"end":{"row":175,"column":28},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":175,"column":28},"end":{"row":175,"column":29},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":175,"column":29},"end":{"row":175,"column":30},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":171,"column":39},"end":{"row":171,"column":40},"action":"insert","lines":["2"]}]}],[{"group":"doc","deltas":[{"start":{"row":175,"column":36},"end":{"row":175,"column":37},"action":"remove","lines":[","]}]}],[{"group":"doc","deltas":[{"start":{"row":174,"column":25},"end":{"row":174,"column":26},"action":"insert","lines":[","]}]}],[{"group":"doc","deltas":[{"start":{"row":174,"column":25},"end":{"row":174,"column":26},"action":"remove","lines":[","]}]}],[{"group":"doc","deltas":[{"start":{"row":174,"column":25},"end":{"row":174,"column":26},"action":"insert","lines":[","]}]}],[{"group":"doc","deltas":[{"start":{"row":175,"column":36},"end":{"row":175,"column":37},"action":"insert","lines":[")"]}]}],[{"group":"doc","deltas":[{"start":{"row":174,"column":24},"end":{"row":174,"column":25},"action":"remove","lines":[")"]}]}],[{"group":"doc","deltas":[{"start":{"row":174,"column":24},"end":{"row":174,"column":25},"action":"remove","lines":[","]}]}],[{"group":"doc","deltas":[{"start":{"row":174,"column":24},"end":{"row":174,"column":25},"action":"insert","lines":[","]}]}],[{"group":"doc","deltas":[{"start":{"row":171,"column":39},"end":{"row":171,"column":40},"action":"remove","lines":["2"]}]}],[{"group":"doc","deltas":[{"start":{"row":175,"column":18},"end":{"row":175,"column":19},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":175,"column":18},"end":{"row":175,"column":19},"action":"remove","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":175,"column":17},"end":{"row":175,"column":18},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":175,"column":18},"end":{"row":175,"column":19},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":175,"column":19},"end":{"row":175,"column":20},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":175,"column":20},"end":{"row":175,"column":21},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":175,"column":21},"end":{"row":175,"column":22},"action":"insert","lines":["_"]}]}],[{"group":"doc","deltas":[{"start":{"row":177,"column":26},"end":{"row":178,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":178,"column":0},"end":{"row":179,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":179,"column":0},"end":{"row":180,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":180,"column":0},"end":{"row":181,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":181,"column":0},"end":{"row":182,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":182,"column":0},"end":{"row":183,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":183,"column":0},"end":{"row":184,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":184,"column":0},"end":{"row":185,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":185,"column":0},"end":{"row":186,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":186,"column":0},"end":{"row":187,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":187,"column":0},"end":{"row":188,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":188,"column":0},"end":{"row":189,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":189,"column":0},"end":{"row":190,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":190,"column":0},"end":{"row":191,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":191,"column":0},"end":{"row":192,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":192,"column":0},"end":{"row":193,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":193,"column":0},"end":{"row":217,"column":63},"action":"insert","lines":["INSERT INTO approval_tbl ","(doc_num, submit_id, manager_id, submit_date, decide_date, submit_comment, decide_comment, start_date, end_date, office_code, state) VALUES ","(","'2014-10-30-01', ","'100501',    ","'060601',     ","'2014-10-30 11:15:11', ","'2014-11-30 09:01:22', ","'휴가 상신합니다.', ","'수락합니다.',    ","'2014-11-10', ","'2014-11-11', ","'V01', ","'결제완료');","","","INSERT INTO `out_office_tbl` ","  (`year`, `date`, `id`, `office_code`, `day_count`, `memo`, `doc_num`) ","VALUES ","  ('2014', '11-10', '100501', 'V01', 1.0, '', '2014-10-30-01');","  ","INSERT INTO `out_office_tbl` ","  (`year`, `date`, `id`, `office_code`, `day_count`, `memo`, `doc_num`) ","VALUES ","  ('2014', '11-11', '100501', 'V01', 1.0, '', '2014-10-30-01');"]}]}],[{"group":"doc","deltas":[{"start":{"row":186,"column":0},"end":{"row":191,"column":0},"action":"remove","lines":["","","","","",""]}]}],[{"group":"doc","deltas":[{"start":{"row":188,"column":0},"end":{"row":212,"column":63},"action":"remove","lines":["INSERT INTO approval_tbl ","(doc_num, submit_id, manager_id, submit_date, decide_date, submit_comment, decide_comment, start_date, end_date, office_code, state) VALUES ","(","'2014-10-30-01', ","'100501',    ","'060601',     ","'2014-10-30 11:15:11', ","'2014-11-30 09:01:22', ","'휴가 상신합니다.', ","'수락합니다.',    ","'2014-11-10', ","'2014-11-11', ","'V01', ","'결제완료');","","","INSERT INTO `out_office_tbl` ","  (`year`, `date`, `id`, `office_code`, `day_count`, `memo`, `doc_num`) ","VALUES ","  ('2014', '11-10', '100501', 'V01', 1.0, '', '2014-10-30-01');","  ","INSERT INTO `out_office_tbl` ","  (`year`, `date`, `id`, `office_code`, `day_count`, `memo`, `doc_num`) ","VALUES ","  ('2014', '11-11', '100501', 'V01', 1.0, '', '2014-10-30-01');"]}]}],[{"group":"doc","deltas":[{"start":{"row":180,"column":0},"end":{"row":188,"column":0},"action":"remove","lines":["","","","","","","","",""]}]}],[{"group":"doc","deltas":[{"start":{"row":179,"column":0},"end":{"row":180,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":178,"column":0},"end":{"row":179,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":177,"column":26},"end":{"row":177,"column":27},"action":"insert","lines":[";"]}]}]]},"ace":{"folds":[],"scrolltop":2142.5,"scrollleft":0,"selection":{"start":{"row":177,"column":27},"end":{"row":177,"column":27},"isBackwards":true},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1420708796261,"hash":"8160e3faea6450e0805c6ddbab12bcff526da96e"}